from: https://github.com/mbrossard/threadpool/
with this: https://github.com/mbrossard/threadpool/pull/13
